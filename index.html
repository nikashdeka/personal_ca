<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Finance Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Chosen Palette: Calm Harmony (Warm Neutrals with Blue/Green Accent) -->
    <!-- Application Structure Plan: A dashboard-style SPA with side navigation to thematic sections (Dashboard, Tax Centre, Financial Fortress, Wealth Engine, Action Plan). This non-linear structure empowers the user to explore topics based on their immediate needs, while interactive calculators and charts make complex financial concepts tangible and personalized. This is superior to a static report for engagement and understanding. -->
    <!-- Visualization & Content Choices: [Tax Comparison -> Bar Chart (Chart.js) -> Interactive sliders -> Clearly visualizes savings], [Asset Allocation -> Donut Chart (Chart.js) -> Hover reveals details -> Quick visual understanding of portfolio mix], [Deductions -> Interactive HTML Cards -> Click to expand -> Breaks down complex info into digestible parts], [Calculators -> HTML Forms + JS -> User inputs data -> Provides personalized, actionable numbers]. This approach uses the best tool for each piece of information to maximize clarity and interaction. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }
        .nav-item.active {
            background-color: #e0f2fe; /* light-sky-100 */
            color: #0284c7; /* sky-600 */
            font-weight: 600;
        }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .kpi-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.2s;
        }
        .kpi-card:hover {
            transform: translateY(-5px);
        }
        .tax-input {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #cbd5e1;
            border-radius: 0.375rem;
            font-size: 0.875rem;
        }
        .tax-tab {
             display: none;
        }
        .tax-tab.active {
            display: block;
        }
        .tax-tab-button {
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        .tax-tab-button.active {
            background-color: #e0f2fe;
            color: #0284c7;
            border-color: #7dd3fc;
        }
        .tax-tab-button:not(.active):hover {
            background-color: #f1f5f9;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="flex min-h-screen">
        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="bg-white w-64 p-4 shadow-lg fixed lg:relative -translate-x-full lg:translate-x-0 transition-transform duration-300 z-20">
            <div class="flex items-center mb-8">
                <div class="bg-sky-500 text-white p-3 rounded-full mr-3">
                    <i class="fas fa-landmark"></i>
                </div>
                <h1 class="text-xl font-bold text-slate-700">Financial Advisor</h1>
            </div>
            <nav id="main-nav">
                <a href="#dashboard" class="nav-item flex items-center p-3 my-1 rounded-lg hover:bg-slate-100 transition-colors duration-200 active">
                    <i class="fas fa-tachometer-alt w-6 text-center mr-3"></i> Dashboard
                </a>
                <a href="#tax-centre" class="nav-item flex items-center p-3 my-1 rounded-lg hover:bg-slate-100 transition-colors duration-200">
                    <i class="fas fa-calculator w-6 text-center mr-3"></i> Tax Centre
                </a>
                <a href="#fortress" class="nav-item flex items-center p-3 my-1 rounded-lg hover:bg-slate-100 transition-colors duration-200">
                    <i class="fas fa-shield-halved w-6 text-center mr-3"></i> Financial Fortress
                </a>
                <a href="#wealth-engine" class="nav-item flex items-center p-3 my-1 rounded-lg hover:bg-slate-100 transition-colors duration-200">
                    <i class="fas fa-chart-line w-6 text-center mr-3"></i> Wealth Engine
                </a>
                <a href="#action-plan" class="nav-item flex items-center p-3 my-1 rounded-lg hover:bg-slate-100 transition-colors duration-200">
                    <i class="fas fa-tasks w-6 text-center mr-3"></i> Action Plan
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-4 md:p-8 lg:p-10 bg-slate-50">
            <button id="menu-toggle" class="lg:hidden fixed top-4 left-4 z-30 bg-white p-2 rounded-md shadow-md">
                <i class="fas fa-bars"></i>
            </button>
            
            <!-- Dashboard Section -->
            <section id="dashboard" class="tab-content active">
                <h2 class="text-3xl font-bold text-slate-800 mb-2">Your Financial Dashboard</h2>
                <p class="text-slate-500 mb-8">A summary of your key financial metrics and recommendations for FY 2024-25.</p>

                <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                    <!-- Key Recommendation Card -->
                    <div class="kpi-card xl:col-span-2">
                        <div class="flex items-center text-amber-500 mb-3">
                            <i class="fas fa-star text-2xl mr-3"></i>
                            <h3 class="text-xl font-semibold text-slate-700">Primary Recommendation: Adopt Old Tax Regime</h3>
                        </div>
                        <p class="text-slate-600 mb-4">Based on your high rental expenses and eligibility for key deductions, the Old Tax Regime is significantly more beneficial. This choice is the cornerstone of your tax-saving strategy for this year.</p>
                        <div class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded-r-lg">
                            <p class="font-bold">Estimated Annual Tax Savings:</p>
                            <p id="estimatedSavings" class="text-3xl font-bold">₹ 78,000</p>
                            <p class="text-sm">Compared to the New Tax Regime. Explore the Tax Centre for a detailed breakdown.</p>
                        </div>
                    </div>
                    
                    <!-- Life Insurance Card -->
                    <div class="kpi-card">
                        <div class="flex items-center text-sky-500 mb-3">
                            <i class="fas fa-heart-pulse text-2xl mr-3"></i>
                            <h3 class="text-xl font-semibold text-slate-700">Life Insurance Goal</h3>
                        </div>
                        <p class="text-slate-600 mb-4">To fully protect your family's future, a substantial life cover is essential.</p>
                        <div class="text-center">
                            <p class="text-slate-500">Recommended Term Cover</p>
                            <p class="text-4xl font-bold text-sky-600">₹ 2.5 Cr</p>
                        </div>
                    </div>

                    <!-- Asset Allocation Card -->
                    <div class="kpi-card">
                        <div class="flex items-center text-indigo-500 mb-3">
                           <i class="fas fa-chart-pie text-2xl mr-3"></i>
                           <h3 class="text-xl font-semibold text-slate-700">Investment Strategy</h3>
                        </div>
                         <p class="text-slate-600">A growth-oriented portfolio to build wealth over the long term.</p>
                        <div class="chart-container h-64 max-h-64">
                            <canvas id="assetAllocationChart"></canvas>
                        </div>
                    </div>

                     <!-- Emergency Fund Card -->
                    <div class="kpi-card">
                        <div class="flex items-center text-emerald-500 mb-3">
                            <i class="fas fa-suitcase-medical text-2xl mr-3"></i>
                            <h3 class="text-xl font-semibold text-slate-700">Emergency Fund</h3>
                        </div>
                        <p class="text-slate-600 mb-4">Your financial safety net. Aim for 6 months of essential expenses.</p>
                        <div class="text-center">
                            <p class="text-slate-500">Target Corpus</p>
                            <p class="text-4xl font-bold text-emerald-600">₹ 8 Lakhs+</p>
                            <p class="text-sm">(based on illustrative expenses)</p>
                        </div>
                    </div>

                    <!-- Next Step Card -->
                    <div class="kpi-card bg-sky-500 text-white">
                        <div class="flex items-center mb-3">
                            <i class="fas fa-arrow-right text-2xl mr-3"></i>
                            <h3 class="text-xl font-semibold">Your Next Step</h3>
                        </div>
                        <p class="mb-4">Begin your journey to financial wellness by exploring the detailed sections.</p>
                        <button onclick="document.querySelector('a[href=\'#action-plan\']').click()" class="bg-white text-sky-600 font-bold py-2 px-4 rounded-lg w-full hover:bg-sky-100 transition-colors">
                            View Your Action Plan
                        </button>
                    </div>
                </div>
            </section>

            <!-- Tax Centre Section -->
            <section id="tax-centre" class="tab-content">
                <h2 class="text-3xl font-bold text-slate-800 mb-2">Tax Centre</h2>
                <p class="text-slate-500 mb-8">Enter your detailed financial data to get a precise tax comparison and maximize your savings.</p>
                
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex flex-wrap space-x-2 border-b mb-6">
                        <button class="tax-tab-button active" data-tab="income">1. Income Details</button>
                        <button class="tax-tab-button" data-tab="property">2. House Property</button>
                        <button class="tax-tab-button" data-tab="deductions">3. Deductions</button>
                    </div>
                    
                    <div id="tax-calculator-form">
                        <!-- Income Tab -->
                        <div id="tab-income" class="tax-tab active space-y-6">
                            <div>
                                <h3 class="font-semibold text-lg mb-4 text-slate-700 border-b pb-2">Salary Components</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                    <div><label class="text-sm">Basic Salary</label><input type="number" id="basic_salary" class="tax-input" value="1800000"></div>
                                    <div><label class="text-sm">Basic Arrear</label><input type="number" id="basic_arrear" class="tax-input" value="0"></div>
                                    <div><label class="text-sm">HRA Received</label><input type="number" id="hra_received" class="tax-input" value="700000"></div>
                                    <div><label class="text-sm">HRA Arrear</label><input type="number" id="hra_arrear" class="tax-input" value="0"></div>
                                    <div><label class="text-sm">LTA</label><input type="number" id="lta" class="tax-input" value="50000"></div>
                                    <div><label class="text-sm">Performance Bonus</label><input type="number" id="performance_bonus" class="tax-input" value="200000"></div>
                                </div>
                            </div>
                            
                            <div>
                                <h3 class="font-semibold text-lg mb-4 text-slate-700 border-b pb-2">Taxable Allowances & Perquisites</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                    <div><label class="text-sm">Professional Development</label><input type="number" id="prof_dev_allowance" class="tax-input" value="0"></div>
                                    <div><label class="text-sm">Books & Periodicals</label><input type="number" id="books_allowance" class="tax-input" value="0"></div>
                                    <div><label class="text-sm">Telephone/Internet</label><input type="number" id="tele_allowance" class="tax-input" value="0"></div>
                                    <div><label class="text-sm">Health/Sports Club</label><input type="number" id="health_club_allowance" class="tax-input" value="0"></div>
                                    <div><label class="text-sm">Gift Voucher Value</label><input type="number" id="gift_voucher_value" class="tax-input" value="0"></div>
                                    <div><label class="text-sm">Sodexo / Meal Vouchers</label><input type="number" id="sodexo_value" class="tax-input" value="0"></div>
                                    <div><label class="text-sm">Other Taxable Allowances</label><input type="number" id="other_allowance" class="tax-input" value="100000"></div>
                                    <div><label class="text-sm">Motor Car Perquisite</label><input type="number" id="car_perq" class="tax-input" value="28800"></div>
                                </div>
                            </div>
                            
                            <div>
                                <h3 class="font-semibold text-lg mb-4 text-slate-700 border-b pb-2">Employer Contributions</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                    <div><label class="text-sm">To Provident Fund (PF)</label><input type="number" id="employer_pf_contribution" class="tax-input" value="216000"></div>
                                    <div><label class="text-sm">To National Pension (NPS)</label><input type="number" id="employer_nps_contribution" class="tax-input" value="0"></div>
                                    <div><label class="text-sm">To Superannuation</label><input type="number" id="employer_superannuation_contribution" class="tax-input" value="0"></div>
                                </div>
                            </div>

                             <div>
                                <h3 class="font-semibold text-lg mb-4 text-slate-700 border-b pb-2">Other Income Sources</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                    <div><label class="text-sm">Interest Income (Savings, FD)</label><input type="number" id="interest_income" class="tax-input" value="25000"></div>
                                    <div><label class="text-sm">Any Other Income</label><input type="number" id="any_other_income" class="tax-input" value="0"></div>
                                </div>
                            </div>
                        </div>

                        <!-- House Property Tab -->
                        <div id="tab-property" class="tax-tab">
                             <div class="flex justify-between items-center mb-4">
                                <h3 class="font-semibold text-lg text-slate-700">Income from House Property</h3>
                                <button id="add-property-btn" class="bg-sky-500 text-white text-sm font-bold py-2 px-3 rounded-lg hover:bg-sky-600 transition-colors"><i class="fas fa-plus mr-2"></i>Add Property</button>
                             </div>
                             <div id="property-list" class="space-y-4">
                                <!-- Property Cards will be injected here -->
                             </div>
                        </div>

                        <!-- Deductions Tab -->
                        <div id="tab-deductions" class="tax-tab">
                             <h3 class="font-semibold text-lg mb-4 text-slate-700">Tax Saving Deductions (for Old Regime)</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                <!-- 80C -->
                                <div class="space-y-4 p-4 bg-slate-50 rounded-lg">
                                    <h4 class="font-semibold text-slate-600 border-b pb-2">Chapter VI-A (Sec 80C, etc)</h4>
                                    <div><label class="text-sm">Life Insurance Premium</label><input type="number" id="lic" class="tax-input" value="25000"></div>
                                    <div><label class="text-sm">EPF Contribution (Employee)</label><input type="number" id="epf" class="tax-input" value="75000"></div>
                                    <div><label class="text-sm">Tuition Fees</label><input type="number" id="tuition_fees" class="tax-input" value="80000"></div>
                                    <div><label class="text-sm">Other 80C (PPF, ELSS, etc)</label><input type="number" id="other_80c" class="tax-input" value="0"></div>
                                </div>
                                <!-- 80D -->
                                <div class="space-y-4 p-4 bg-slate-50 rounded-lg">
                                    <h4 class="font-semibold text-slate-600 border-b pb-2">Health (Sec 80D)</h4>
                                    <div><label class="text-sm">Health Insurance (Self/Family)</label><input type="number" id="health_insurance_self" class="tax-input" value="25000"></div>
                                    <div><label class="text-sm">Health Insurance (Parents < 60)</label><input type="number" id="health_insurance_parents" class="tax-input" value="0"></div>
                                    <div><label class="text-sm">Health Insurance (Parents >= 60)</label><input type="number" id="health_insurance_parents_sr" class="tax-input" value="50000"></div>
                                </div>
                                <!-- Other Deductions -->
                                <div class="space-y-4 p-4 bg-slate-50 rounded-lg">
                                    <h4 class="font-semibold text-slate-600 border-b pb-2">Other Deductions & Exemptions</h4>
                                    <div><label class="text-sm">Rent Paid Annually (for HRA)</label><input type="number" id="rent_paid" class="tax-input" value="840000"></div>
                                    <div><label class="text-sm">Metro City? (for HRA)</label><input type="checkbox" id="is_metro" class="h-5 w-5 rounded border-gray-300 text-sky-600 focus:ring-sky-500" checked></div>
                                    <div><label class="text-sm">Professional Tax</label><input type="number" id="prof_tax" class="tax-input" value="2400"></div>
                                    <div><label class="text-sm">Interest on Savings A/C (80TTA)</label><input type="number" id="interest_80tta" class="tax-input" value="10000"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Results Section -->
                    <div class="mt-8 pt-6 border-t">
                         <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                            <div>
                                <h3 class="text-xl font-semibold text-slate-700 mb-4">Tax Calculation Summary</h3>
                                <div class="space-y-3">
                                    <div class="flex justify-between p-3 bg-sky-50 rounded-lg">
                                        <span class="font-semibold text-sky-800">Taxable Income (Old Regime)</span>
                                        <span id="taxable_old" class="font-bold text-sky-900">₹ 0</span>
                                    </div>
                                    <div class="flex justify-between p-3 bg-amber-50 rounded-lg">
                                        <span class="font-semibold text-amber-800">Taxable Income (New Regime)</span>
                                        <span id="taxable_new" class="font-bold text-amber-900">₹ 0</span>
                                    </div>
                                     <div class="flex justify-between p-4 bg-green-100 border-l-4 border-green-500 rounded-r-lg mt-4">
                                        <span class="font-bold text-green-800 text-lg">Potential Savings</span>
                                        <span id="savings_total" class="font-extrabold text-green-700 text-lg">₹ 0</span>
                                    </div>
                                </div>
                            </div>
                             <div>
                                <div class="chart-container">
                                    <canvas id="taxComparisonChart"></canvas>
                                </div>
                             </div>
                        </div>
                    </div>
                </div>

            </section>

            <!-- Financial Fortress Section -->
            <section id="fortress" class="tab-content">
                <h2 class="text-3xl font-bold text-slate-800 mb-2">Financial Fortress</h2>
                <p class="text-slate-500 mb-8">Build your financial bedrock with adequate insurance and a robust emergency fund.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Insurance Hub -->
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold text-slate-700 mb-4">Insurance Hub</h3>
                        <p class="text-slate-600 mb-6">Protect against life's biggest risks. A layered approach provides the best, most cost-effective coverage.</p>
                        
                        <div class="space-y-4">
                            <div class="p-4 border rounded-lg">
                                <p class="font-bold text-sky-600">Life Insurance (Term Plan)</p>
                                <p>Recommended Cover: <span class="font-bold text-xl">₹2.5 - 3 Crore</span></p>
                                <p class="text-sm text-slate-500">To replace your income and secure your family's goals.</p>
                            </div>
                            <div class="p-4 border rounded-lg">
                                <p class="font-bold text-sky-600">Health Insurance (Your Family)</p>
                                <p>Base Cover: <span class="font-bold text-xl">₹20 - 30 Lakhs</span></p>
                                <p class="text-sm text-slate-500">A family floater for you, your spouse, and child.</p>
                            </div>
                            <div class="p-4 border rounded-lg">
                                <p class="font-bold text-sky-600">Health Insurance (Parents)</p>
                                <p>Base Cover: <span class="font-bold text-xl">₹15 - 20 Lakhs</span></p>
                                <p class="text-sm text-slate-500">A separate senior citizen policy for comprehensive care.</p>
                            </div>
                             <div class="p-4 border border-dashed rounded-lg bg-slate-50">
                                <p class="font-bold text-green-600">Super Top-Up Plan</p>
                                <p>Suggested Cover: <span class="font-bold text-xl">₹1 Crore</span></p>
                                <p class="text-sm text-slate-500">A cost-effective way to get high coverage for catastrophic events, with a deductible matching your base policy.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Emergency Fund Planner -->
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold text-slate-700 mb-4">Emergency Fund Planner</h3>
                        <p class="text-slate-600 mb-6">Calculate the ideal size of your contingency fund. This money should be kept in liquid, easily accessible instruments.</p>

                        <div>
                            <label for="monthlyExpenses" class="block text-sm font-medium text-slate-600">Your Essential Monthly Expenses (₹)</label>
                            <input type="number" id="monthlyExpenses" value="120000" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500">
                            <p class="text-xs text-slate-500 mt-1">Include rent, essential bills, EMIs, groceries, etc.</p>
                        </div>
                        <div class="mt-6 text-center bg-emerald-50 p-6 rounded-lg">
                            <p class="text-lg font-medium text-emerald-800">Your Target 6-Month Emergency Fund:</p>
                            <p id="emergencyFundTarget" class="text-4xl font-extrabold text-emerald-600 mt-2">₹ 7,20,000</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Wealth Engine Section -->
            <section id="wealth-engine" class="tab-content">
                <h2 class="text-3xl font-bold text-slate-800 mb-2">Wealth Engine</h2>
                <p class="text-slate-500 mb-8">Strategies for long-term wealth creation and goal-based investing.</p>
                
                <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
                    <div class="lg:col-span-3 bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold text-slate-700 mb-4">Goal-Based Investment Plan</h3>
                        <p class="text-slate-600 mb-6">A structured approach to investing ensures you meet your life's most important financial milestones. Here are the recommended strategies for each goal.</p>
                        <div class="space-y-4">
                            <!-- Retirement -->
                            <details class="group bg-slate-50 p-4 rounded-lg cursor-pointer">
                                <summary class="font-semibold text-lg text-slate-800 flex justify-between items-center">
                                    Retirement Planning
                                    <i class="fas fa-chevron-down group-open:rotate-180 transition-transform"></i>
                                </summary>
                                <div class="mt-4 text-slate-600 border-t pt-4">
                                    <p class="font-bold">Instruments:</p>
                                    <ul class="list-disc list-inside mt-2 space-y-1">
                                        <li><strong class="text-indigo-600">NPS:</strong> Maximize for tax benefits (including ₹50k extra) and low-cost growth.</li>
                                        <li><strong class="text-indigo-600">EPF:</strong> Forms the stable debt anchor of your portfolio.</li>
                                        <li><strong class="text-indigo-600">Equity Mutual Fund SIPs:</strong> Dedicated long-term SIPs to build an inflation-beating corpus.</li>
                                    </ul>
                                </div>
                            </details>
                            <!-- Child's Future -->
                            <details class="group bg-slate-50 p-4 rounded-lg cursor-pointer">
                                <summary class="font-semibold text-lg text-slate-800 flex justify-between items-center">
                                    Child's Future
                                    <i class="fas fa-chevron-down group-open:rotate-180 transition-transform"></i>
                                </summary>
                                <div class="mt-4 text-slate-600 border-t pt-4">
                                    <p class="font-bold">Strategy: Unbundle Insurance & Investment</p>
                                    <p class="mt-2">Avoid costly, inefficient child plans. Use your term plan for risk cover and invest directly for returns.</p>
                                    <ul class="list-disc list-inside mt-2 space-y-1">
                                        <li><strong class="text-indigo-600">Investment:</strong> Start a dedicated long-term SIP in diversified equity mutual funds.</li>
                                        <li><strong class="text-indigo-600">Goal:</strong> Earmark this portfolio to build a substantial corpus for higher education.</li>
                                    </ul>
                                </div>
                            </details>
                            <!-- Parents' Care -->
                            <details class="group bg-slate-50 p-4 rounded-lg cursor-pointer">
                                <summary class="font-semibold text-lg text-slate-800 flex justify-between items-center">
                                    Parents' Financial Care
                                    <i class="fas fa-chevron-down group-open:rotate-180 transition-transform"></i>
                                </summary>
                                <div class="mt-4 text-slate-600 border-t pt-4">
                                    <p class="font-bold">Strategy: Capital Preservation & Regular Income</p>
                                    <p class="mt-2">Focus on safe, government-backed schemes to supplement their pension.</p>
                                     <ul class="list-disc list-inside mt-2 space-y-1">
                                        <li><strong class="text-indigo-600">Senior Citizen Savings Scheme (SCSS):</strong> Top priority for high, guaranteed returns.</li>
                                        <li><strong class="text-indigo-600">Post Office MIS (POMIS):</strong> To generate fixed monthly income.</li>
                                    </ul>
                                </div>
                            </details>
                        </div>
                    </div>
                     <div class="lg:col-span-2 bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold text-slate-700 mb-4">Core & Satellite Equity Strategy</h3>
                        <p class="text-slate-600 mb-6">For your interest in direct stocks, adopt a disciplined approach to balance stable growth with focused bets.</p>
                         <div class="relative pt-4">
                            <div class="flex mb-2 items-center justify-between">
                                <div>
                                    <span class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-sky-600 bg-sky-200">
                                        Core: 80-90%
                                    </span>
                                </div>
                            </div>
                            <div class="overflow-hidden h-4 mb-4 text-xs flex rounded bg-sky-100">
                                <div style="width: 85%" class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-sky-500"></div>
                            </div>
                             <p class="text-sm text-slate-500 -mt-2">Invested in diversified mutual funds for stable, long-term growth.</p>
                        </div>
                         <div class="relative pt-4">
                            <div class="flex mb-2 items-center justify-between">
                                <div>
                                    <span class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-amber-600 bg-amber-200">
                                        Satellite: 10-20%
                                    </span>
                                </div>
                            </div>
                            <div class="overflow-hidden h-4 mb-4 text-xs flex rounded bg-amber-100">
                                <div style="width: 15%" class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-amber-500"></div>
                            </div>
                             <p class="text-sm text-slate-500 -mt-2">Allocated to direct stocks based on fundamental research, not speculation.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Action Plan Section -->
            <section id="action-plan" class="tab-content">
                 <h2 class="text-3xl font-bold text-slate-800 mb-2">Your Action Plan</h2>
                <p class="text-slate-500 mb-8">A prioritized checklist to guide your next steps. Focus on one section at a time to build momentum.</p>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Immediate Actions -->
                    <div class="bg-white p-6 rounded-lg shadow-md border-t-4 border-red-500">
                        <h3 class="text-xl font-semibold text-slate-700 mb-4">Immediate Actions (Next 30 Days)</h3>
                        <ul class="space-y-3">
                            <li class="flex items-start"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-sky-600 focus:ring-sky-500 mt-1 mr-3"><span class="text-slate-700">File ITR-2 for AY 2025-26, explicitly opting for the Old Regime.</span></li>
                            <li class="flex items-start"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-sky-600 focus:ring-sky-500 mt-1 mr-3"><span class="text-slate-700">Review and upgrade health insurance to the recommended structure.</span></li>
                            <li class="flex items-start"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-sky-600 focus:ring-sky-500 mt-1 mr-3"><span class="text-slate-700">Consult a lawyer to draft a legally valid Will.</span></li>
                            <li class="flex items-start"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-sky-600 focus:ring-sky-500 mt-1 mr-3"><span class="text-slate-700">Gather all tax documents (Form 16, rent receipts, investment proofs).</span></li>
                        </ul>
                    </div>

                    <!-- Short-term Actions -->
                    <div class="bg-white p-6 rounded-lg shadow-md border-t-4 border-amber-500">
                        <h3 class="text-xl font-semibold text-slate-700 mb-4">Short-Term Actions (1-6 Months)</h3>
                        <ul class="space-y-3">
                            <li class="flex items-start"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-sky-600 focus:ring-sky-500 mt-1 mr-3"><span class="text-slate-700">Calculate and start building your Emergency Fund via automated transfers.</span></li>
                            <li class="flex items-start"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-sky-600 focus:ring-sky-500 mt-1 mr-3"><span class="text-slate-700">Begin SIPs in recommended mutual funds for retirement & child's future.</span></li>
                            <li class="flex items-start"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-sky-600 focus:ring-sky-500 mt-1 mr-3"><span class="text-slate-700">Realign parents' investments into SCSS and POMIS.</span></li>
                            <li class="flex items-start"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-sky-600 focus:ring-sky-500 mt-1 mr-3"><span class="text-slate-700">Review and update nominations on all financial accounts.</span></li>
                        </ul>
                    </div>
                    
                    <!-- Long-term Actions -->
                    <div class="bg-white p-6 rounded-lg shadow-md border-t-4 border-green-500">
                        <h3 class="text-xl font-semibold text-slate-700 mb-4">Ongoing & Annual Reviews</h3>
                        <ul class="space-y-3">
                            <li class="flex items-start"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-sky-600 focus:ring-sky-500 mt-1 mr-3"><span class="text-slate-700">Schedule an annual financial health check-up to review this plan.</span></li>
                            <li class="flex items-start"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-sky-600 focus:ring-sky-500 mt-1 mr-3"><span class="text-slate-700">Rebalance investment portfolio annually to maintain asset allocation.</span></li>
                            <li class="flex items-start"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-sky-600 focus:ring-sky-500 mt-1 mr-3"><span class="text-slate-700">Review insurance cover every 2-3 years or after a major life event.</span></li>
                             <li class="flex items-start"><input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-sky-600 focus:ring-sky-500 mt-1 mr-3"><span class="text-slate-700">Annually review rental agreements and market rates for your properties.</span></li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const navLinks = document.querySelectorAll('#main-nav a');
    const sections = document.querySelectorAll('.tab-content');
    const menuToggle = document.getElementById('menu-toggle');
    const sidebar = document.getElementById('sidebar');

    const formatCurrency = (value) => new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', minimumFractionDigits: 0, maximumFractionDigits: 0 }).format(value);

    // Main Navigation
    function navigateTo(hash) {
        navLinks.forEach(link => link.classList.toggle('active', link.hash === hash));
        sections.forEach(section => section.classList.toggle('active', section.id === hash.substring(1)));
        window.scrollTo(0, 0);
        if (window.innerWidth < 1024) sidebar.classList.add('-translate-x-full');
    }
    
    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            navigateTo(e.currentTarget.hash);
            window.location.hash = e.currentTarget.hash;
        });
    });
    
    menuToggle.addEventListener('click', () => sidebar.classList.toggle('-translate-x-full'));

    // Dashboard Charts
    const assetAllocationCtx = document.getElementById('assetAllocationChart').getContext('2d');
    new Chart(assetAllocationCtx, {
        type: 'doughnut', data: { labels: ['Equity', 'Debt', 'Gold'], datasets: [{ data: [65, 25, 10], backgroundColor: ['#4f46e5', '#16a34a', '#f59e0b'], borderColor: '#f8fafc', borderWidth: 4, hoverOffset: 8 }] },
        options: { responsive: true, maintainAspectRatio: false, cutout: '70%', plugins: { legend: { position: 'bottom', labels: { padding: 20, font: { size: 14 } } }, tooltip: { callbacks: { label: (c) => `${c.label}: ${c.raw}%` } } } }
    });

    // Tax Centre Logic
    const taxTabButtons = document.querySelectorAll('.tax-tab-button');
    const taxTabs = document.querySelectorAll('.tax-tab');
    
    taxTabButtons.forEach(button => {
        button.addEventListener('click', () => {
            taxTabButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            taxTabs.forEach(tab => tab.classList.toggle('active', tab.id === `tab-${button.dataset.tab}`));
        });
    });
    
    let propertyCount = 0;
    document.getElementById('add-property-btn').addEventListener('click', () => {
        propertyCount++;
        const propertyCard = `
            <div id="property-${propertyCount}" class="p-4 border rounded-lg bg-slate-50 relative">
                <button class="remove-property-btn absolute top-2 right-2 text-red-500 hover:text-red-700 font-bold text-lg" data-id="${propertyCount}">&times;</button>
                <h4 class="font-semibold mb-2">Property ${propertyCount}</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="text-sm">Property Type</label>
                        <select class="tax-input prop-type">
                            <option value="let_out">Let Out</option>
                            <option value="deemed_let_out">Deemed to be Let Out</option>
                        </select>
                    </div>
                    <div><label class="text-sm">Gross Annual Rent (₹)</label><input type="number" class="tax-input prop-rent" value="0"></div>
                    <div><label class="text-sm">Municipal Taxes Paid (₹)</label><input type="number" class="tax-input prop-tax" value="0"></div>
                    <div><label class="text-sm">Interest on Loan (₹)</label><input type="number" class="tax-input prop-interest" value="0"></div>
                </div>
            </div>`;
        document.getElementById('property-list').insertAdjacentHTML('beforeend', propertyCard);
        document.querySelectorAll('.remove-property-btn').forEach(btn => btn.addEventListener('click', (e) => {
            document.getElementById(`property-${e.target.dataset.id}`).remove();
            updateTaxComparison();
        }));
    });

    let taxChart;
    const taxForm = document.getElementById('tax-calculator-form');

    function calculateTax({ old: oldIncome, new: newIncome }) {
        const oldSlabs = [
            { limit: 250000, rate: 0 }, { limit: 500000, rate: 0.05 }, { limit: 1000000, rate: 0.20 }, { limit: Infinity, rate: 0.30 }
        ];
        const newSlabs = [
            { limit: 300000, rate: 0 }, { limit: 600000, rate: 0.05 }, { limit: 900000, rate: 0.10 }, { limit: 1200000, rate: 0.15 }, { limit: 1500000, rate: 0.20 }, { limit: Infinity, rate: 0.30 }
        ];

        function compute(income, slabSet) {
            let taxPayable = 0;
            let lastLimit = 0;
            for (const slab of slabSet) {
                if (income > lastLimit) {
                    const taxableInSlab = Math.min(income - lastLimit, slab.limit - lastLimit);
                    taxPayable += taxableInSlab * slab.rate;
                }
                lastLimit = slab.limit;
            }
            if (slabSet === newSlabs && income <= 700000) return 0;
            const cess = taxPayable * 0.04;
            return taxPayable + cess;
        }

        return { oldTax: compute(oldIncome, oldSlabs), newTax: compute(newIncome, newSlabs) };
    }

    function updateTaxComparison() {
        const getVal = (id) => parseFloat(document.getElementById(id).value) || 0;

        // Salary Calculation
        const basicSalary = getVal('basic_salary') + getVal('basic_arrear');
        const hraReceived = getVal('hra_received') + getVal('hra_arrear');
        const otherSalary = getVal('lta') + getVal('performance_bonus');
        
        // Allowances & Perks
        const taxableAllowances = getVal('prof_dev_allowance') + getVal('books_allowance') + getVal('tele_allowance') + getVal('health_club_allowance') + getVal('other_allowance');
        const giftVoucherVal = getVal('gift_voucher_value');
        const taxableGift = giftVoucherVal > 5000 ? giftVoucherVal : 0;
        const taxableSodexo = Math.max(0, getVal('sodexo_value') - 26400);
        const carPerk = getVal('car_perq');
        
        // Employer Contributions
        const employerPF = getVal('employer_pf_contribution');
        const employerNPS = getVal('employer_nps_contribution');
        const employerSA = getVal('employer_superannuation_contribution');

        const taxableEmployerPF = Math.max(0, employerPF - (basicSalary * 0.12));
        const totalEmployerRetirals = employerPF + employerNPS + employerSA;
        const taxableAggregateContribution = Math.max(0, totalEmployerRetirals - 750000);

        const salaryIncome = basicSalary + hraReceived + otherSalary + taxableAllowances + taxableGift + taxableSodexo + carPerk + taxableEmployerPF + taxableAggregateContribution;

        // House Property Income
        let housePropertyIncome = 0;
        document.querySelectorAll('#property-list > div').forEach(prop => {
            const rent = parseFloat(prop.querySelector('.prop-rent').value) || 0;
            const tax = parseFloat(prop.querySelector('.prop-tax').value) || 0;
            const interest = parseFloat(prop.querySelector('.prop-interest').value) || 0;
            const nav = rent - tax;
            const standardDeductionHP = nav * 0.30;
            housePropertyIncome += (nav - standardDeductionHP - interest);
        });

        const otherIncomes = getVal('interest_income') + getVal('any_other_income');
        const grossTotalIncome = salaryIncome + housePropertyIncome + otherIncomes;

        // Deductions (Old Regime)
        const standardDeductionSalary = 50000;
        
        const rentPaid = getVal('rent_paid');
        const isMetro = document.getElementById('is_metro').checked;
        const hraExemption1 = hraReceived;
        const hraExemption2 = rentPaid - (basicSalary * 0.1);
        const hraExemption3 = basicSalary * (isMetro ? 0.5 : 0.4);
        const hraExemption = Math.max(0, Math.min(hraExemption1, hraExemption2, hraExemption3));

        const sec80c = Math.min(150000, getVal('lic') + getVal('epf') + getVal('tuition_fees') + getVal('other_80c'));
        const sec80d = Math.min(25000, getVal('health_insurance_self')) + Math.min(25000, getVal('health_insurance_parents')) + Math.min(50000, getVal('health_insurance_parents_sr'));
        const sec80tta = Math.min(10000, getVal('interest_80tta'));
        const profTax = getVal('prof_tax');
        
        const totalDeductionsOld = standardDeductionSalary + hraExemption + sec80c + sec80d + sec80tta + profTax;

        const taxableIncomeOld = Math.max(0, grossTotalIncome - totalDeductionsOld);
        const taxableIncomeNew = Math.max(0, grossTotalIncome - standardDeductionSalary);

        document.getElementById('taxable_old').textContent = formatCurrency(taxableIncomeOld);
        document.getElementById('taxable_new').textContent = formatCurrency(taxableIncomeNew);

        const taxes = calculateTax({ old: taxableIncomeOld, new: taxableIncomeNew });
        const savings = Math.max(0, taxes.newTax - taxes.oldTax);
        
        document.getElementById('savings_total').textContent = formatCurrency(savings);
        document.getElementById('estimatedSavings').textContent = formatCurrency(savings);
        
        if (taxChart) {
            taxChart.data.datasets[0].data = [taxes.oldTax, taxes.newTax];
            taxChart.update();
        }
    }

    function createTaxChart() {
        const ctx = document.getElementById('taxComparisonChart').getContext('2d');
        taxChart = new Chart(ctx, {
            type: 'bar', data: { labels: ['Old Regime', 'New Regime'], datasets: [{ label: 'Total Tax Liability', data: [0, 0], backgroundColor: ['#38bdf8', '#fb923c'], borderWidth: 1, borderRadius: 5 }] },
            options: { responsive: true, maintainAspectRatio: false, indexAxis: 'y', plugins: { legend: { display: false }, tooltip: { callbacks: { label: (c) => formatCurrency(c.raw) } } }, scales: { x: { beginAtZero: true, ticks: { callback: (v) => `${formatCurrency(v/100000)}L` } } } }
        });
    }
    
    taxForm.addEventListener('input', updateTaxComparison);
    createTaxChart();
    
    // Emergency Fund Planner
    const monthlyExpensesInput = document.getElementById('monthlyExpenses');
    const emergencyFundTarget = document.getElementById('emergencyFundTarget');
    monthlyExpensesInput.addEventListener('input', () => {
        emergencyFundTarget.textContent = formatCurrency((parseFloat(monthlyExpensesInput.value) || 0) * 6);
    });
    
    // Initial calls
    navigateTo(window.location.hash || '#dashboard');
    updateTaxComparison(); 
    emergencyFundTarget.textContent = formatCurrency((parseFloat(monthlyExpensesInput.value) || 0) * 6);
});
</script>

</body>
</html>
